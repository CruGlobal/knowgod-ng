<!doctype html>
<html ng-app="knowGod">
  <head>
    <base href="/">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.8/css/solid.css" integrity="sha384-v2Tw72dyUXeU3y4aM2Y0tBJQkGfplr39mxZqlTBDUZAb9BGoC40+rdFCG0m10lXk" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.8/css/fontawesome.css" integrity="sha384-q3jl8XQu1OpdLgGFvNRnPdj5VIlCvgsDQTQB6owSOHWlAurxul7f+JpUOVdAiJ5P" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular-route.js"></script>
    <script src="controller.js"></script>
    <script src="xml2json.min.js"></script>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div ng-controller="KnowGodController as knowGod">
      <!-- Header -->
      <div>
        <div class="header tc relative">
          <span ng-click="knowGod.language.hideLang()" class="l p25 absolute">
            <i class="fas fa-language"></i>
            {{knowGod.language.getLang().attributes.name}}
            <i ng-class="knowGod.language.langHidden ? 'flip' : '' " class="fas fa-chevron-up"></i>
          </span>

          <div class="dib progress pill my25 kg-bg-gray-light">
            <div class="kg-bg-gray pill"  style="width: {{knowGod.manifest.percent()}}%">
            </div>
          </div>

          <span class="fas fa-share-alt r p25 absolute">
          </span>
        </div>

     <!-- languages -->
        <div ng-hide="knowGod.language.langHidden" class="px100 py25 kg-bg-gray-light">
          <span ng-repeat="lang in knowGod.language.langs" class="w33 dib pill kg-bg-white-hover" ng-class="{'kg-bg-white' : (lang == knowGod.language.getLang())}">
            <a class="w100 dib pill-inside" href="{{lang.attributes.code}}" ng-click="knowGod.language.setLang(lang); knowGod.language.hideLang() ">
            {{lang.attributes.name}}</a>
          </span>
        </div>
      </div>
   <!-- content goes in here -->
    <!-- Blue Header -->
      <div ng-if="knowGod.page.content.header" class="py25 kg-bg-blue kg-white">
        <h1 class="fl ml25">{{knowGod.page.content.header.number.text}}</h1>
        <h2 class="mx100 kg-white">{{knowGod.page.content.header.title.text}}</h2>
      </div>
      
      <div class="mx100">
       <!-- Hero text -->
        <div ng-if="knowGod.page.content.hero">
          <h1 class="kg-blue">{{knowGod.page.content.hero.heading.text}}</h1>
          <p>{{knowGod.page.content.hero.paragraph.text}}</p>
          <div ng-repeat="paragraph in knowGod.page.content.hero.paragraph">
            <p class="tc">{{paragraph.text}}</p>
            <a ng-if="paragraph.button" href="http://www.{{paragraph.button._url}}" class="button w100 kg-bg-blue kg-white">{{paragraph.button.text}}</a>

          </div>
        </div>

        <div ng-if="knowGod.page.content['_background-image']" class="frame-square">
        <img ng-src="{{knowGod.manifest.lookup(knowGod.page.content['_background-image'])}}" class="w100" >
        </div>

      <!-- Cards -->        
        <div ng-repeat="card in knowGod.page.content.cards.card">
          <h2>{{card.label.text}}</h2>
          
          <img ng-if="card['_background-image'] && card['_background-image-align']=='top'" ng-src="{{knowGod.manifest.lookup(card['_background-image'])}}" class="w100">

          <p class="mx144" ng-repeat="paragraph in card.paragraph">
            <img ng-if="paragraph.image" ng-src="{{knowGod.manifest.lookup(paragraph.image['_resource'])}}" class="w100">
            <span class="db">
              {{paragraph.text}}
            </span>
            <!--span ng-repeat="text in paragraph.text">{{text}}</span-->

          </p>
          
          <p class="mx144" ng-repeat="text in card.paragraph.text">{{text}}</p>
          
          <img ng-if="card['_background-image'] && card['_background-image-align']=='bottom'" ng-src="{{knowGod.manifest.lookup(card['_background-image'])}}" class="w100">
        </div>

       <!-- call to action -->
        <div ng-if="knowGod.page.content['call-to-action']">
          <h3 ng-repeat="cta in knowGod.page.content['call-to-action']">{{cta}}</h3>
        </div>

      <!-- next/prev -->
        <div class="my25">
          <a href="" ng-click="knowGod.manifest.prevPage()" class="py25 kg-white tc w50 fas fa-2x fa-arrow-left kg-bg-gray pill-left"></a>
          <a href="" ng-click="knowGod.manifest.nextPage()" class="py25 kg-white tc w50 fas fa-2x fa-arrow-right kg-bg-blue pill-right"></a>
        </div>

      </div>

      <p>{{knowGod.page.content}}</p>

      <!-- Footer -->
      <div class="px100">
        <div class="line kg-gray-light f11">
          <span class="fl py25"><img ng-src="https://cdn2-www.cru.org/images/cru_logo.png.pagespeed.ce.wqT8QlyTsR.png" style="height: 28px">Â© 1994-2018 Cru. All Rights Reserved.</span>
          <span class="fr py25">Learn more at <a class="kg-gray-light" href="knowgod.com">knowGod.com</a></span>
        </div>
      </div>

    </div>
  </body>
</html>

