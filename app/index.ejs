<!doctype html>
<html ng-app="knowGod">
  <head>
    <base href="/">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.8/css/all.css" integrity="sha384-3AB7yXWz4OeoZcPbieVW64vVXEwADiYyAEhwilzWsLw+9FgqpyjjStpPnpBO8o8S" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div ng-controller="KnowGodController as knowGod">
      <!-- Header -->
      <div>
        <div class="header tc relative">
          <span ng-click="knowGod.language.hideLang()" class="l p25 absolute kg-gray-dark">
            <i class="fas fa-language"></i>
            {{knowGod.language.getLang().attributes.name}}
            <i ng-class="knowGod.language.langHidden ? 'flip' : '' " class="fas fa-chevron-up"></i>
          </span>

          <div class="dib progress pill my25 kg-bg-gray-light">
            <div class="kg-bg-gray pill"  style="width: {{knowGod.manifest.percent()}}%">
            </div>
          </div>
          
          <span class="r mt15 absolute tc pill" ng-init="share=1" ng-click="share = !share" ng-class="{'kg-bg-gray-light b-white' : !share}">
            <a class="m10 db share"><i class="fas " ng-class="{'fa-share-alt' : share, 'fa-times' : !share}"></i></a>
            <a href="" class="m10 db pill kg-bg-gray-dark share kg-gray-light" ng-hide="share" ng-repeat="link in ['fab fa-facebook-f', 'fab fa-twitter', 'fas fa-envelope', 'fas fa-link']"><i class="{{link}} v-mid"></i></a>
          </span>
        </div>

     <!-- languages -->
        <div ng-hide="knowGod.language.langHidden" class="px100 py25 kg-bg-gray-light">
          <span ng-repeat="lang in knowGod.language.langs" class="w33 dib pill kg-bg-white-hover" ng-class="{'kg-bg-white' : (lang == knowGod.language.getLang())}">
            <a class="w100 dib pill-inside" href="{{lang.attributes.code}}/kgp/3" ng-click="knowGod.language.setLang(lang); knowGod.language.hideLang() ">
            {{lang.attributes.name}}</a>
          </span>
        </div>
      </div>
   <!-- content goes in here -->
      <div ng-repeat="element in knowGod.page.content.elements[0].elements">
        <!-- Blue Header -->
        <div ng-if="element.name==='header'" class="py25 kg-bg-blue kg-white">
          <h1 class="fl ml25 kg-white">{{element.elements[0].elements[0].elements[0].text}}</h1>
          <h2 class="mx100 kg-white">{{element.elements[1].elements[0].elements[0].text}}</h2>
        </div>
        
        <!-- Hero text -->
        <div ng-if="element.name==='hero'" class="mx100">
          <div ng-if="knowGod.page.content.hero">
            <h1 class="kg-blue">{{knowGod.page.content.hero.heading.text}}</h1>
            <p>{{knowGod.page.content.hero.paragraph.text}}</p>
            <div ng-repeat="paragraph in knowGod.page.content.hero.paragraph">
              <p class="tc">{{paragraph.text}}</p>
              <a ng-if="paragraph.button" href="http://www.{{paragraph.button._url}}" class="button w100 kg-bg-blue kg-white">{{paragraph.button.text}}</a>

            </div>
          </div>
        </div>

        <!--div ng-if="knowGod.page.content.elements[0].attributes['background-image'] && !background-image-display" class="frame-squar">
          <img ng-src="{{knowGod.manifest.lookup(knowGod.page.content.elements[0].attributes['background-image'])}}" class="w100" >Background image for page
        </div-->

        <!-- Cards -->
        <div ng-if="element.name==='cards'">
          <div ng-repeat="card in element.elements">
            <div ng-repeat="element in card.elements">
              <h2 ng-if="element.name==='label'">{{element.elements[0].elements[0].text}}</h2>
              
              <img ng-if="card['_background-image'] && card['_background-image-align']=='top'" ng-src="{{knowGod.manifest.lookup(card['_background-image'])}}" class="w100">

              <p ng-if="element.name==='content:paragraph'" class="mx144">
                <span ng-repeat="el in element.elements">
                  <img ng-if="el.name==='content:image'" ng-src="{{knowGod.manifest.lookup(el.attributes.resource)}}" class="w100">
                  <span ng-if="el.name==='content:text'" class="db">
                    {{el.elements[0].text}}
                  </span>
                </span>
              </p>
              
              <p class="mx144" ng-repeat="text in card.paragraph.text">{{text}}</p>
              
              <img ng-if="card['_background-image'] && card['_background-image-align']=='bottom'" ng-src="{{knowGod.manifest.lookup(card['_background-image'])}}" class="w100">
            </div>
          </div>
        </div>

        <!-- call to action -->     
        <div ng-if="element.name==='call-to-action'">
          <h3 ng-repeat="cta in element.elements[0].elements">{{cta.text}}</h3>
        </div>

      </div>

          <!-- next/prev -->
      <div class="my25">
        <a href="" ng-click="knowGod.manifest.prevPage()" class="py25 kg-white tc w50 fas fa-2x fa-arrow-left kg-bg-gray pill-left"></a>
        <a href="" ng-click="knowGod.manifest.nextPage()" class="py25 kg-white tc w50 fas fa-2x fa-arrow-right kg-bg-blue pill-right"></a>
      </div>

      <p>{{knowGod.page.content.elements}}</p>

      <!-- Footer -->
      <div class="px100">
        <div class="line kg-gray-light f11">
          <span class="fl py25"><img ng-src="https://cdn2-www.cru.org/images/cru_logo.png.pagespeed.ce.wqT8QlyTsR.png" style="height: 28px">Â© 1994-2018 Cru. All Rights Reserved.</span>
          <span class="fr py25">Learn more at <a class="kg-gray-light" href="knowgod.com">knowGod.com</a></span>
        </div>
      </div>

    </div>
    <%=htmlWebpackPlugin.files.webpackManifest%>
  </body>
</html>

